(this.webpackJsonptypescript3=this.webpackJsonptypescript3||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var c,n=a(7),s=a(2),r=a(0),o=a.n(r),i=a(9),l=a.n(i),j=a(11),E=a(17),d=a(15),O=a(24),b="http://localhost:4000";!function(e){e.ADD_CHAT_REQUEST="ADD_CHAT_REQUEST",e.ADD_CHAT_SUCCESS="ADD_CHAT_SUCCESS",e.ADD_CHAT_FAILURE="ADD_CHAT_FAILURE",e.CHAT_FIRE="CHAT_FIRE",e.CHAT_UNFIRE="CHAT_UNFIRE",e.DELETE_CHAT_REQUEST="DELETE_CHAT_REQUEST",e.DELETE_CHAT_SUCCESS="DELETE_CHAT_SUCCESS",e.DELETE_CHAT_FAILURE="DELETE_CHAT_FAILURE",e.CHATS_LOAD_REQUEST="CHATS_LOAD_REQUEST",e.CHATS_LOAD_SUCCESS="CHATS_LOAD_SUCCESS",e.CHATS_LOAD_FAILURE="CHATS_LOAD_FAILURE"}(c||(c={}));var S,h=function(){return Object(O.createAction)({endpoint:"".concat(b,"/chats?_embed=messages"),method:"GET",headers:{"Content-Type":"application/json"},types:[c.CHATS_LOAD_REQUEST,c.CHATS_LOAD_SUCCESS,c.CHATS_LOAD_FAILURE]})};!function(e){e.PROFILE_INFO_REQUEST="PROFILE_INFO_REQUEST",e.PROFILE_INFO_SUCCESS="PROFILE_INFO_SUCCESS",e.PROFILE_INFO_FAILURE="PROFILE_INFO_FAILURE"}(S||(S={}));var u,m=function(){return Object(O.createAction)({endpoint:"".concat(b,"/profiles/0"),method:"GET",headers:{"Content-Type":"application/json"},types:[S.PROFILE_INFO_REQUEST,S.PROFILE_INFO_SUCCESS,S.PROFILE_INFO_FAILURE]})},_=a(21),x=a(148),A=a(152),p=a(153),C=a(163),g=a.p+"static/media/leo.f870085d.jpg",f=a.p+"static/media/chat.0d20f42e.png",T=(a(100),function(e){var t=e.profile,a=e.isError,c=e.isLoading;return Object(s.jsx)("div",{className:"header",children:Object(s.jsxs)(x.a,{children:[Object(s.jsx)(A.a,{children:Object(s.jsxs)(_.a,{className:"nav-link",to:"/home",children:[Object(s.jsx)(p.a,{}),Object(s.jsx)("img",{className:"home-img",src:f,alt:"logo"})]})}),Object(s.jsx)(A.a,{children:Object(s.jsx)(_.a,{className:"nav-link",to:"/chats/123",children:Object(s.jsx)(p.a,{primary:"\u0427\u0430\u0442\u044b"})})}),Object(s.jsx)(A.a,{children:Object(s.jsx)(_.a,{className:"nav-link",to:"/about",children:Object(s.jsx)(p.a,{primary:"\u041e \u043d\u0430\u0441"})})}),Object(s.jsx)(A.a,{children:Object(s.jsx)(_.a,{className:"nav-link",to:"/pagenotfount",children:Object(s.jsx)(p.a,{primary:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439"})})}),Object(s.jsx)(A.a,{children:Object(s.jsxs)(_.a,{className:"nav-link",to:"/profile",children:[Object(s.jsx)(p.a,{primary:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})," "]})}),Object(s.jsxs)(A.a,{children:[a&&Object(s.jsx)(p.a,{primary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"}),c?Object(s.jsx)(p.a,{primary:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(s.jsxs)(_.a,{className:"nav-link flex-link",to:"/profile",children:[" ",Object(s.jsx)(p.a,{primary:t.name}),Object(s.jsx)(C.a,{alt:"Leo",src:a?"":g,className:"avatar-small"})," "]})]})]})})}),N=function(){var e=Object(d.d)(),t=Object(d.e)((function(e){return e.profile.entries})),a=Object(d.e)((function(e){return[e.profile.loading,e.profile.error]})),c=Object(E.a)(a,2),n=c[0],o=c[1];return Object(r.useEffect)((function(){null==t.name&&e(m())}),[e,t.name]),Object(s.jsx)(T,{isLoading:n,isError:o,profile:t})},D=(a(102),function(){return Object(s.jsx)("div",{className:"footer",children:Object(s.jsx)("p",{className:"footer-text",children:"2020. All Rights Reserved"})})}),L=a(68),v=a.n(L),U=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"about-container",children:[Object(s.jsx)("h1",{className:"about-title",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(s.jsx)("p",{className:"about-text",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043d\u0430\u0448 \u0441\u0430\u0439\u0442!"}),Object(s.jsx)(v.a,{className:"home-icon"})]}),Object(s.jsx)(D,{})]})},R=a.p+"static/media/about.e1d300d6.png",F=a(69),y=a.n(F),I=a(74),H=a.n(I),M=a(73),G=a.n(M),B=a(18),Q=a(162),k=a(154),w=a(70),P=a.n(w),K=function(e){var t=e.onSend,a=Object(r.useState)({title:""}),c=Object(E.a)(a,2),o=c[0],i=c[1],l=function(){var e=o.title;e&&0!==e.trim().length?(t({title:e}),i(Object(n.a)(Object(n.a)({},o),{},{title:""}))):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0430\u0442\u0430")};return Object(s.jsxs)("div",{className:"form-wrapper",children:[Object(s.jsx)(Q.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0430\u0442\u0430",name:"title",type:"text",value:o.title,onChange:function(e){i(Object(n.a)(Object(n.a)({},o),{},Object(B.a)({},e.target.name,e.target.value)))},onKeyDown:function(e){13===e.keyCode&&e.ctrlKey&&l()}}),Object(s.jsx)(k.a,{variant:"round",color:"primary",onClick:l,children:Object(s.jsx)(P.a,{})})]})},J=a(71),W=a.n(J),z=(a(104),a(48)),V=a.n(z),$=function(e){var t=e.text,a=e.author,c=e.handleDeleteMessage,n=e.message,r=W()("message",{"message-sender":"Bot"!==a,"message-bot":"Bot"===a});return Object(s.jsxs)("div",{className:r,children:[t," - ",Object(s.jsx)("b",{className:"message-author",children:a}),Object(s.jsx)(V.a,{onClick:function(){return c(n.id)},className:"delete-message"})]})},q=function(e){var t=e.items,a=e.handleDeleteMessage;return Object(s.jsx)(s.Fragment,{children:t.map((function(e){return Object(s.jsx)($,{message:e,handleDeleteMessage:a,text:e.text,author:e.author},e.id)}))})},X=a(72),Y=a.n(X),Z=a(164),ee=(a(105),function(e){var t=e.onSend,a=Object(r.useState)({text:"",author:""}),c=Object(E.a)(a,2),o=c[0],i=c[1],l=function(e){i(Object(n.a)(Object(n.a)({},o),{},Object(B.a)({},e.target.name,e.target.value)))},j=function(){var e=o.text,a=o.author;e&&0!==e.trim().length?a?(t({author:a,text:e}),i(Object(n.a)(Object(n.a)({},o),{},{text:""}))):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f!"):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")},d=function(e){13===e.keyCode&&e.ctrlKey&&j()};return Object(s.jsxs)("div",{className:"send-window",children:[Object(s.jsx)(Y.a,{className:"message-sending"}),Object(s.jsx)(Q.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430",name:"author",type:"text",value:o.author,onChange:l,onKeyDown:d}),Object(s.jsx)(Q.a,{label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",name:"text",value:o.text,onChange:l,onKeyDown:d,multiline:!0,autoFocus:!0}),Object(s.jsx)(k.a,{variant:"round",color:"primary",onClick:j,children:Object(s.jsx)(Z.a,{})})]})}),te=a(156),ae=a(155),ce=function(e){var t=e.items,a=e.handleDeleteChat;return Object(s.jsx)(s.Fragment,{children:t.map((function(e){return Object(s.jsxs)(x.a,{className:"chat-root",children:[Object(s.jsxs)(A.a,{alignItems:"flex-start",className:e.fire?"new-message":"",children:[Object(s.jsx)(ae.a,{children:Object(s.jsxs)(C.a,{alt:"avatar",children:[e.title.substr(0,1)," "]})}),Object(s.jsx)(_.a,{className:"nav-link",to:"/chats/".concat(e.id),children:Object(s.jsx)(p.a,{primary:e.title,secondary:Object(s.jsx)(o.a.Fragment,{children:e.messages[e.messages.length-1]&&e.messages[e.messages.length-1].text})})}),Object(s.jsx)("div",{className:"delete-chat",onClick:function(){return a(e.id)},children:Object(s.jsx)(V.a,{className:"delete-chat-icon"})})]}),Object(s.jsx)(te.a,{variant:"inset",component:"li"})]},e.id)}))})},ne=(a(106),function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{}),Object(s.jsx)("div",{className:"loading-container",children:Object(s.jsxs)("div",{className:"loadingWrap",children:[Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour1"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour2"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour3"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour4"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour5"})]})}),Object(s.jsx)(D,{})]})}),se=(a(107),function(e){var t=e.messages,a=e.handleMessageSend,c=e.handleNewChat,n=e.chats,r=e.handleDeleteChat,o=e.handleDeleteMessage,i=e.isLoading,l=e.isError,j=e.handleChatsReload,E=Array.from(n);return l?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{}),Object(s.jsx)("div",{className:"error-wrapper",children:Object(s.jsxs)("div",{className:"loading-error",children:[Object(s.jsx)(G.a,{className:"error-icon"}),"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 :(",Object(s.jsx)("button",{onClick:j,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0447\u0430\u0442\u044b"})]})}),Object(s.jsx)(D,{})]}):i?Object(s.jsx)(ne,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"main",children:[Object(s.jsxs)("div",{className:"chats-container",children:[Object(s.jsx)("div",{className:"chats",children:E?Object(s.jsx)(ce,{handleDeleteChat:r,items:E}):Object(s.jsx)("div",{children:"ChatList"})}),Object(s.jsx)("div",{className:"new-chat",children:Object(s.jsx)(K,{onSend:c})})]}),Object(s.jsxs)("div",{className:"messanger",children:[Object(s.jsxs)("div",{className:"messages-list",children:[" ",t?Object(s.jsx)(q,{handleDeleteMessage:o,items:t}):Object(s.jsxs)("div",{className:"empty-chat",children:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0430\u0442 \u0441\u043b\u0435\u0432\u0430",Object(s.jsx)(H.a,{className:"arrow-to-chat"})]})]}),t&&Object(s.jsx)(ee,{onSend:a})]})]}),Object(s.jsx)(D,{})]})});!function(e){e.CHATS_MESSAGE_SEND_REQUEST="CHATS_MESSAGE_SEND_REQUEST",e.CHATS_MESSAGE_SEND_SUCCESS="CHATS_MESSAGE_SEND_SUCCESS",e.CHATS_MESSAGE_SEND_FAILURE="CHATS_MESSAGE_SEND_FAILURE",e.MESSAGES_LOAD_REQUEST="MESSAGES_LOAD_REQUEST",e.MESSAGES_LOAD_SUCCESS="MESSAGES_LOAD_SUCCESS",e.MESSAGES_LOAD_FAILURE="MESSAGES_LOAD_FAILURE",e.DELETE_MESSAGE_REQUEST="DELETE_MESSAGE_REQUEST",e.DELETE_MESSAGE_SUCCESS="DELETE_MESSAGE_SUCCESS",e.DELETE_MESSAGE_FAILURE="DELETE_MESSAGE_FAILURE"}(u||(u={}));var re=function(e){return Object(O.createAction)({endpoint:"".concat(b,"/messages"),method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},types:[u.CHATS_MESSAGE_SEND_REQUEST,u.CHATS_MESSAGE_SEND_SUCCESS,u.CHATS_MESSAGE_SEND_FAILURE]})},oe=a(16),ie=a(49),le=a(157),je=a(158),Ee=a(160),de=a(159),Oe=a(161),be=a(50),Se=a(75),he=a.n(Se),ue=(a(108),Object(le.a)({root:{minWidth:275,margin:"0 auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}})),me=function(e){var t=ue(),a=e.profile,c=e.isError,n=e.isLoading,r=e.handleProfileReload;return c?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"error-wrapper error-profile-wrapper",children:Object(s.jsxs)("div",{className:"loading-error",children:[Object(s.jsx)(he.a,{className:"error-icon"}),"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 :(",Object(s.jsx)("button",{onClick:r,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})})}):n?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"loading-container",children:Object(s.jsxs)("div",{className:"loadingWrap",children:[Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour1"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour2"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour3"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour4"}),Object(s.jsx)("div",{className:"loadingBoxes loadingBoxColour5"})]})})}):Object(s.jsxs)(je.a,{className:t.root,children:[Object(s.jsxs)(de.a,{children:[Object(s.jsx)(C.a,{alt:"Leo",src:g,className:"avatar"}),Object(s.jsx)(be.a,{className:t.title,color:"textSecondary",gutterBottom:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"}),Object(s.jsx)(be.a,{className:"profile-name",variant:"h5",component:"h2",children:a.name}),Object(s.jsxs)(be.a,{className:t.pos,color:"textSecondary",children:["\u0418\u043c\u044f \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: @",a.nickname]}),Object(s.jsxs)(be.a,{variant:"body2",component:"p",children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",a.tel,Object(s.jsx)("br",{}),"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0432\u0438\u0437\u0438\u0442: ",a.lastVisit]})]}),Object(s.jsx)(Ee.a,{children:Object(s.jsx)(_.a,{className:"nav-link",to:"/",children:Object(s.jsx)(Oe.a,{size:"small",className:"profile-button",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})})]})},_e=function(){var e=Object(d.d)(),t=Object(d.e)((function(e){return e.profile.entries})),a=Object(d.e)((function(e){return[e.profile.loading,e.profile.error]})),c=Object(E.a)(a,2),n=c[0],o=c[1];Object(r.useEffect)((function(){null==t.name&&e(m())}),[e,t.name]);return Object(s.jsx)(me,{profile:t,isError:o,isLoading:n,handleProfileReload:function(){e(m())}})},xe=[{path:"/",exact:!0,component:U},{path:"/home",exact:!0,component:U},{path:"/about",exact:!0,component:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"about-container",children:[Object(s.jsx)("h1",{className:"about-title",children:"About Us"}),Object(s.jsx)("p",{className:"about-text",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptatibus, aliquid."}),Object(s.jsx)("img",{className:"about-img",src:R,alt:"Messenger"})]}),Object(s.jsx)(D,{})]})}},{path:"/chats/:id([0-9]+)",exact:!0,component:function(){var e=Object(d.d)(),t=Object(j.f)().id,a=Object(d.e)((function(e){return e.chats.entries})),o=a[+t]?a[+t].messages:null,i=Object(d.e)((function(e){return[e.chats.loading,e.chats.error]})),l=Object(E.a)(i,2),S=l[0],m=l[1];Object(r.useEffect)((function(){e(h()),e(Object(O.createAction)({endpoint:"".concat(b,"/messages"),method:"GET",headers:{"Content-Type":"application/json"},types:[u.MESSAGES_LOAD_REQUEST,u.MESSAGES_LOAD_SUCCESS,u.MESSAGES_LOAD_FAILURE]}))}),[e]);return Object(s.jsx)(se,{chats:a,messages:o,handleDeleteChat:function(t){e(function(e){return Object(O.createAction)({endpoint:"".concat(b,"/chats/").concat(e,"?_embed=messages"),method:"DELETE",headers:{"Content-Type":"application/json"},types:[c.DELETE_CHAT_REQUEST,c.DELETE_CHAT_SUCCESS,c.DELETE_CHAT_FAILURE]})}(t)),e(Object(oe.d)("/chats/123")),e(h())},handleMessageSend:function(a){a.id=Object(ie.a)(),e(re(Object(n.a)(Object(n.a)({},a),{},{chatId:+t}))),e(h())},handleNewChat:function(t){var n=Object.keys(a).length;e(function(e){return Object(O.createAction)({endpoint:"".concat(b,"/chats"),method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},types:[c.ADD_CHAT_REQUEST,c.ADD_CHAT_SUCCESS,c.ADD_CHAT_FAILURE]})}(t)),e(h()),e(Object(oe.d)("/chats/".concat(n)))},handleDeleteMessage:function(t){e(function(e){return Object(O.createAction)({endpoint:"".concat(b,"/messages/").concat(e),method:"DELETE",headers:{"Content-Type":"application/json"},types:[u.DELETE_MESSAGE_REQUEST,u.DELETE_MESSAGE_SUCCESS,u.DELETE_MESSAGE_FAILURE]})}(t)),e(h())},handleChatsReload:function(){e(h())},isLoading:S,isError:m})}},{path:"/profile",exact:!1,component:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{}),Object(s.jsx)("div",{className:"profile",children:Object(s.jsx)(_e,{})}),Object(s.jsx)(D,{})]})}},{path:"*",exact:!1,component:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"about-container",children:[Object(s.jsx)("h1",{className:"about-title",children:"Error 404"}),Object(s.jsx)("p",{className:"about-text",children:"Page not found."}),Object(s.jsx)(y.a,{className:"error-page"})]}),Object(s.jsx)(D,{})]})}}],Ae=a(33),pe=a(76),Ce=a(23),ge=a(77),fe=a(56),Te=a.n(fe),Ne={entries:{},loading:!1,error:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.CHATS_LOAD_REQUEST:return Object(n.a)(Object(n.a)({},e),{},{loading:!0,error:!1});case c.CHATS_LOAD_SUCCESS:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,entries:t.payload});case c.CHATS_LOAD_FAILURE:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,error:!0});case c.ADD_CHAT_REQUEST:return Object(n.a)(Object(n.a)({},e),{},{loading:!0,error:!1});case c.ADD_CHAT_SUCCESS:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,error:!1});case c.ADD_CHAT_FAILURE:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,error:!0});case c.CHAT_FIRE:return Te()(e,{entries:Object(B.a)({},t.payload,{fire:{$set:!0}})});case c.CHAT_UNFIRE:return Te()(e,{entries:Object(B.a)({},t.payload,{fire:{$set:!1}})});case c.DELETE_CHAT_REQUEST:case c.DELETE_CHAT_SUCCESS:case c.DELETE_CHAT_FAILURE:default:return e}},Le={entries:{},loading:!1,error:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.PROFILE_INFO_REQUEST:return Object(n.a)(Object(n.a)({},e),{},{loading:!0,error:!1});case S.PROFILE_INFO_SUCCESS:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,entries:t.payload});case S.PROFILE_INFO_FAILURE:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,error:!0});default:return e}},Ue={entries:{},loading:!1,error:!1},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.MESSAGES_LOAD_REQUEST:return Object(n.a)(Object(n.a)({},e),{},{loading:!0,error:!1});case u.MESSAGES_LOAD_SUCCESS:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,entries:t.payload});case u.MESSAGES_LOAD_FAILURE:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,error:!0});case u.CHATS_MESSAGE_SEND_REQUEST:case u.CHATS_MESSAGE_SEND_SUCCESS:case u.CHATS_MESSAGE_SEND_FAILURE:case u.DELETE_MESSAGE_REQUEST:case u.DELETE_MESSAGE_SUCCESS:case u.DELETE_MESSAGE_FAILURE:default:return e}},Fe=a(78),ye=a.n(Fe),Ie=a(63),He=a(20),Me=a(79),Ge=a.n(Me),Be=a(57),Qe=function(e){return function(t){return function(a){if(a.type===oe.b){var n=e.getState();setTimeout((function(){for(var t=e.getState(),a=function(a){if(null==n.chats.entries[a])return{v:void 0};var s;t.chats.entries[a].messages.length>n.chats.entries[a].messages.length&&"Bot"===t.chats.entries[a].messages[t.chats.entries[a].messages.length-1].author&&e.dispatch((s=a,setTimeout((function(){var t;e.dispatch((t=a,{type:c.CHAT_UNFIRE,payload:t}))}),9e3),{type:c.CHAT_FIRE,payload:s}))},s=0;s<t.chats.entries.length;s++){var r=a(s);if("object"===typeof r)return r.v}}),5e3)}return t(a)}}},ke=null,we=function(e){return function(t){return function(a){if(a.type===u.CHATS_MESSAGE_SEND_SUCCESS){ke&&clearTimeout(ke);var c=a.payload,n=c.author,s=c.chatId,r=["\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(n,", \u0447\u0435\u043c \u044f \u043c\u043e\u0433\u0443 \u0442\u0435\u0431\u0435 \u043f\u043e\u043c\u043e\u0447\u044c?"),"".concat(n,", \u0441\u043f\u0440\u043e\u0441\u0438 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u043f\u0440\u043e\u0449\u0435."),"\u041e\u0447\u0435\u043d\u044c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f, ".concat(n),"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 \u0442\u043e\u0431\u043e\u0439, ".concat(n,"."),"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(n,", \u043f\u0440\u0438\u044f\u0442\u043d\u043e \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f!"),"".concat(n,", \u043f\u043e\u0432\u0442\u043e\u0440\u0438, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430."),"".concat(n,", \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d!"),"".concat(n,", \u043a\u0430\u043a \u0434\u0435\u043b\u0430?"),"".concat(n,", \u043f\u043e\u0433\u043e\u0434\u0430 \u0438 \u043f\u0440\u0430\u0432\u0434\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0445\u043e\u0440\u043e\u0448\u0430\u044f."),"".concat(n,", \u043f\u043e\u043a\u0430!")],o=(i=1,l=10,Math.floor(i+Math.random()*(l+1-i)));"Bot"!==n&&(ke=setTimeout((function(){e.dispatch(re({id:Object(ie.a)(),chatId:s,text:r[o-1],author:"Bot"})),e.dispatch(h())}),2e3))}var i,l;return t(a)}}},Pe=Object(He.a)(),Ke={key:"app",storage:Ge.a,blacklist:["chats","profile","messages"]},Je=function(){var e,t=Object(Ce.createStore)(Object(Be.a)(Ke,(e=Pe,Object(Ce.combineReducers)({router:Object(Ae.b)(e),chats:De,profile:ve,messages:Re}))),{},Object(ge.composeWithDevTools)(Object(Ce.applyMiddleware)(Object(Ie.a)(Pe),O.apiMiddleware,ye.a,we,Qe)));return{store:t,persistor:Object(Be.b)(t)}}(),We=Je.store,ze=Je.persistor;l.a.render(Object(s.jsx)(d.a,{store:We,children:Object(s.jsx)(pe.a,{persistor:ze,children:Object(s.jsx)(Ae.a,{history:Pe,children:Object(s.jsx)(j.c,{children:xe.map((function(e,t){return Object(s.jsx)(j.a,Object(n.a)({},e),t)}))})})})}),document.getElementById("root"));a(112)}},[[113,1,2]]]);
//# sourceMappingURL=main.d8f31218.chunk.js.map